#include <stdio.h>

typedef struct
{
  char name[50];
  int score;
} player;

void FileWrite(FILE *file, player pl[]);
void askPlayer(player pl[]);

int main()
{
  FILE *pFileW = fopen("players.txt", "w");
  if (pFileW == NULL)
  {
    printf("Error opening file\n");
    return 1;
  }

  player players[3];
  askPlayer(players);
  FileWrite(pFileW, players);
  fclose(pFileW);

  char buffer[1024] = {0};
  FILE *pFileR = fopen("players.txt", "r");
  if (pFileR == NULL)
  {
    printf("Error opening file\n");
    return 1;
  }
  while (fgets(buffer, sizeof(buffer), pFileR) != NULL)
  {
    printf("%s", buffer);
  }

  fclose(pFileR);
  return 0;
}

void FileWrite(FILE *file, player pl[])
{
  for (int i = 0; i < 3; i++)
  {
    fprintf(file, "player[%d]\n  name: %s\n  score: %d\n", i + 1, pl[i].name, pl[i].score);
  }
}

void askPlayer(player pl[])
{
  for (int i = 0; i < 3; i++)
  {
    printf("player[%d]:\n  name: ", i + 1);
    scanf(" %s", &pl[i].name);
    printf("  score: ");
    scanf(" %d", &pl[i].score);
  }
}